function solution(A) {    let leader = undefined;    let left = {}    let right = {}    let cnt = 0;    for(let i=0; i< A.length; i++){        const curr = A[i]        right[curr] ? right[curr]++ : right[curr] = 1    }    for(let i =0; i<A.length -1; i++){        const curr = A[i]        left[curr] ? left[curr]++ : left[curr] = 1        right[curr]--        if(leader === undefined )leader = curr        else leader = left[leader] > left[curr] ? leader : curr;        if(left[leader] > (i + 1)/2 && right[leader] > (A.length - i - 1) / 2)cnt++    }    return cnt};